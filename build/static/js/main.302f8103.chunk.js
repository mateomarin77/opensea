(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{376:function(e,t,n){e.exports=n(992)},400:function(e,t){},403:function(e,t){},405:function(e,t){},409:function(e,t){},433:function(e,t){},435:function(e,t){},444:function(e,t){},446:function(e,t){},457:function(e,t){},459:function(e,t){},575:function(e,t){},577:function(e,t){},584:function(e,t){},585:function(e,t){},609:function(e,t){},616:function(e,t){},664:function(e,t){},991:function(e,t,n){},992:function(e,t,n){"use strict";n.r(t);n(377);var r=n(2),a=n.n(r),o=n(366),c=n.n(o),i=n(53),s=n(5),u=n(6),l=n(9),f=n(12),d=n(4),p=n(54),m=n(11),h=n.n(m),b=n(42),v=n(133),y=n.n(v),g=n(370),O=n(134),k=n.n(O),w=n(373),E=18,x="undefined"!==typeof web3?window.web3.currentProvider:new g.providers.HttpProvider("https://mainnet.infura.io"),j=[],N=function(e){j.push(e)};function B(){return S.apply(this,arguments)}function S(){return(S=Object(b.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.web3){e.next=4;break}x=new w.PortisProvider({}),e.next=11;break;case 4:if(!window.ethereum){e.next=8;break}window.ethereum.enable(),e.next=11;break;case 8:throw t="You need an Ethereum wallet to interact with this marketplace. Unlock your wallet, get MetaMask.io or Portis on desktop, or get Trust Wallet or Coinbase Wallet on mobile.",alert(t),new Error(t);case 11:j.map(function(e){return e(x)});case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var M=function(e){Object(l.a)(n,e);var t=R(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.account,n=e.showImage,r=t.user?t.user.username:null,o=t.address,c=r||o.substring(2,8).toUpperCase();return a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat("https://opensea.io","/accounts/").concat(o)},n&&t?a.a.createElement("div",{style:{backgroundImage:'url("'+t.image+'")'}}):null,a.a.createElement("span",null,c))}}]),n}(a.a.Component);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var C,P=function(e){Object(l.a)(n,e);var t=A(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.asset;return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"text-center d-inline-block m-100",href:e.openseaLink},a.a.createElement("img",{alt:"Asset artwork",src:e.imageUrl})),a.a.createElement("div",{className:"card-body h-25"},a.a.createElement("h5",{className:"card-title"},e.name),a.a.createElement("p",{className:"card-text text-truncate"},a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.openseaLink,className:"card-link"},e.assetContract.name," #",e.tokenId))))}}]),n}(a.a.Component);function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var L,T=function(e){Object(l.a)(n,e);var t=F(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.bundle;return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"text-center d-inline-block m-100",href:e.permalink},a.a.createElement(D,null,e.assets.map(function(e,t){return a.a.createElement("img",{className:"small",alt:"Asset Bundle artwork",key:t,src:e.imageUrlThumbnail||e.imageUrl})}))),a.a.createElement("div",{className:"card-body h-25"},a.a.createElement("h5",{className:"card-title"},e.name),a.a.createElement("p",{className:"card-text text-truncate"},a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.permalink,className:"card-link"},e.description,a.a.createElement("br",null),e.externalLink))))}}]),n}(a.a.Component),D=p.a.div(C||(C=Object(i.a)(["\n  min-height: 120px;\n  max-height: 240px;\n  overflow-y: auto;\n  padding: 5px 0;\n"]))),_=n(29);function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var I,z=function(e){Object(l.a)(n,e);var t=U(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.order,t=e.currentPrice,n=e.paymentTokenContract,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t&&null!=t.decimals?t.decimals:E;return new k.a(e.toString()).div(new k.a(10).pow(n))}(t,n),o=parseFloat(r).toLocaleString(void 0,{minimumSignificantDigits:1}),c="ETH"===n.symbol;return a.a.createElement(H,null,c?"\u039e":null,o," ",c?null:n.symbol)}}]),n}(a.a.Component),H=p.a.span(L||(L=Object(i.a)(["\n  img {\n    height: 15px !important;\n  }\n"])));function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var J=p.a.div.attrs({className:"card mx-2 mb-4"})(I||(I=Object(i.a)(["\n  min-width: 200px;\n  img {\n    height: 120px;\n    max-width: 100%;\n  }\n  img.small {\n    max-width: 50%;\n    height: 60px;\n  }\n"]))),W=function(e){Object(l.a)(n,e);var t=Y(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={errorMessage:null,creatingOrder:!1},e}return Object(u.a)(n,[{key:"onError",value:function(e){var t=this;throw this.setState({errorMessage:e.message}),setTimeout(function(){return t.setState({errorMessage:null})},3e3),e}},{key:"fulfillOrder",value:function(){var e=Object(b.a)(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.order,r=t.accountAddress){e.next=4;break}return e.next=4,B();case 4:return e.prev=4,this.setState({creatingOrder:!0}),e.next=8,this.props.seaport.fulfillOrder({order:n,accountAddress:r});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),this.onError(e.t0);case 13:return e.prev=13,this.setState({creatingOrder:!1}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[4,10,13,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderBuyButton",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state.creatingOrder,r=this.props,o=r.accountAddress,c=r.order,i=function(){var n=Object(b.a)(h.a.mark(function n(){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!o||t){n.next=3;break}return e.setState({errorMessage:"You already own this asset!"}),n.abrupt("return");case 3:e.fulfillOrder();case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();return a.a.createElement("button",{disabled:n,onClick:i,className:"btn btn-primary w-100"},"Buy",n?"ing":""," for ",a.a.createElement(z,{order:c}))}},{key:"renderAcceptOfferButton",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state.creatingOrder,r=this.props,o=r.accountAddress,c=r.order,i=function(){var n=Object(b.a)(h.a.mark(function n(){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!o||t){n.next=3;break}return e.setState({errorMessage:"You do not own this asset!"}),n.abrupt("return");case 3:e.fulfillOrder();case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();return a.a.createElement("button",{disabled:n,onClick:i,className:"btn btn-success w-100"},"Sell",n?"ing":""," for ",a.a.createElement(z,{order:c}))}},{key:"renderExpirationBadge",value:function(){var e=parseFloat(this.props.order.expirationTime);if(e<=0)return null;var t=y.a.duration(y.a.unix(e).diff(y()()));return a.a.createElement("span",{className:"badge bid-expiry-badge red"},a.a.createElement("i",{className:"tiny material-icons"},"timer"),a.a.createElement("span",{className:"expire-label"},"Expires in "),t.humanize())}},{key:"render",value:function(){var e=this.state.errorMessage,t=this.props,n=t.order,r=t.accountAddress,o=n.makerAccount,c=n.listingTime,i=n.asset,s=n.assetBundle,u=i?i.owner:s.assets[0].owner,l=1e3*c.toNumber(),f=y()(l).local().fromNow(),d=r&&r.toLowerCase()===u.address.toLowerCase();return a.a.createElement(J,null,i?a.a.createElement(P,{asset:i}):a.a.createElement(T,{bundle:s}),a.a.createElement("ul",{className:"list-group list-group-flush"},a.a.createElement("li",{className:"list-group-item"},"Offered by ",a.a.createElement(M,{account:o})),e?a.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},e):a.a.createElement("li",{className:"list-group-item"},n.side===_.OrderSide.Buy?this.renderAcceptOfferButton(d):null,n.side===_.OrderSide.Sell?this.renderBuyButton(!d):null)),a.a.createElement("div",{className:"card-footer"},a.a.createElement("small",{className:"text-muted"},"Posted ",f)))}}]),n}(a.a.Component);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var q,K,Q=function(e){Object(l.a)(n,e);var t=G(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={orders:void 0,total:0,side:void 0,onlyForMe:!1,onlyByMe:!1,onlyBundles:!1,page:1},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=Object(b.a)(h.a.mark(function e(){var t,n,r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.accountAddress,e.next=3,this.props.seaport.api.getOrders({maker:this.state.onlyByMe?t:void 0},this.state.page);case 3:n=e.sent,r=n.orders,a=n.count,this.setState({orders:r,total:a});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"paginateTo",value:function(e){var t=this;this.setState({orders:void 0,page:e},function(){return t.fetchData()})}},{key:"toggleSide",value:function(e){var t=this;this.state.side===e&&(e=void 0),this.setState({orders:void 0,side:e,onlyForMe:void 0},function(){return t.fetchData()})}},{key:"toggleForMe",value:function(){var e=Object(b.a)(h.a.mark(function e(){var t,n=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.accountAddress){e.next=4;break}return e.next=4,B();case 4:t=this.state.onlyForMe,this.setState({orders:void 0,onlyForMe:!t,onlyByMe:!1,side:t?void 0:_.OrderSide.Buy},function(){return n.fetchData()});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleBundles",value:function(){var e=this,t=this.state.onlyBundles;this.setState({orders:void 0,onlyBundles:!t,onlyByMe:!1,side:_.OrderSide.Sell},function(){return e.fetchData()})}},{key:"toggleByMe",value:function(){var e=Object(b.a)(h.a.mark(function e(){var t,n=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.accountAddress){e.next=4;break}return e.next=4,B();case 4:t=this.state.onlyByMe,this.setState({orders:void 0,onlyByMe:!t,onlyForMe:!1},function(){return n.fetchData()});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderPagination",value:function(){var e=this,t=this.state,n=t.page,r=t.total,o=this.props.seaport.api.pageSize,c=n*o>=r;return a.a.createElement("nav",null,a.a.createElement("ul",{className:"pagination justify-content-center"},a.a.createElement("li",{className:"page-item "+(1===n?"disabled":"")},a.a.createElement("a",{className:"page-link",href:"#Log",onClick:function(){return e.paginateTo(n-1)},tabIndex:"-1"},"Previous")),a.a.createElement("li",{className:"page-item "+(c?"disabled":"")},a.a.createElement("a",{className:"page-link",href:"#Log",onClick:function(){return e.paginateTo(n+1)}},"Next"))))}},{key:"renderFilters",value:function(){var e=this,t=this.state,n=t.onlyByMe,r=t.onlyForMe,o=t.onlyBundles,c=this.state.side===_.OrderSide.Sell,i=this.state.side===_.OrderSide.Buy;return a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"mb-3 ml-4"},"Filter orderbook:",a.a.createElement("div",{className:"btn-group ml-4",role:"group"},a.a.createElement("button",{type:"button",className:"btn btn-outline-primary "+(c?"active":""),"data-toggle":"button",onClick:function(){return e.toggleSide(_.OrderSide.Sell)}},"Auctions"),a.a.createElement("button",{type:"button",className:"btn btn-outline-success "+(i?"active":""),"data-toggle":"button",onClick:function(){return e.toggleSide(_.OrderSide.Buy)}},"Bids"))),a.a.createElement("div",{className:"mb-3 ml-4"},a.a.createElement("div",{className:"btn-group",role:"group"},a.a.createElement("button",{type:"button",className:"btn btn-outline-secondary "+(r?"active":""),"data-toggle":"button",onClick:function(){return e.toggleForMe()}},"For Me"),a.a.createElement("button",{type:"button",className:"btn btn-outline-secondary "+(n?"active":""),"data-toggle":"button",onClick:function(){return e.toggleByMe()}},"By Me"))),a.a.createElement("div",{className:"mb-3 ml-4"},a.a.createElement("button",{type:"button",className:"btn btn-outline-info "+(o?"active":""),"data-toggle":"button",onClick:function(){return e.toggleBundles()}},"Bundles")))}},{key:"render",value:function(){var e=this,t=this.state.orders;return a.a.createElement("div",{className:"container py-3",id:"Log"},this.renderFilters(),null!=t?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"card-deck"},t.map(function(t,n){return a.a.createElement(W,Object.assign({},e.props,{key:n,order:t}))})),this.renderPagination()):a.a.createElement("div",{className:"text-center"},"Loading..."))}}]),n}(a.a.Component),V=n(223);function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var Z=function(e){Object(l.a)(n,e);var t=X(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={accountAddress:null},r.onChangeAddress=function(){r.seaport=new V.OpenSeaPort(x,{networkName:V.Network.Main}),r.web3=r.seaport.web3,r.web3.eth.getAccounts(function(e,t){r.setState({accountAddress:t[0]})})},r.onChangeAddress(),N(r.onChangeAddress),r}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("a",{href:"https://github.com/ProjectOpenSea/ships-log"},a.a.createElement(ee,{src:"https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png",alt:"Fork me on GitHub"})),a.a.createElement($,null,a.a.createElement("h1",null,"The Ship's Log"),a.a.createElement("h6",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/ProjectOpenSea/opensea-js"},a.a.createElement("img",{alt:"OpenSea logo",className:"mr-2",src:"/opensea-logo.png"}),"OpenSea.js")," example dapp")),a.a.createElement("main",null,a.a.createElement(Q,{seaport:this.seaport,accountAddress:this.state.accountAddress})))}}]),n}(a.a.Component),$=p.a.header(q||(q=Object(i.a)(["\n  border-bottom: 1px solid lightgrey;\n  padding: 10px;\n  text-align: center;\n  background-color: #f4f9fd;\n\n  h6 img {\n    width: 24px;\n  }\n"]))),ee=p.a.img(K||(K=Object(i.a)(["\n  width: 150px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  border: 0;\n\n  @media(max-width: 600px) {\n    width: 80px;\n  }\n"]))),te=(n(991),function(){window.dataLayer.push(arguments)});window.dataLayer=window.dataLayer||[],te("js",new Date),te("config","UA-111688253-4"),c.a.render(a.a.createElement(Z,null),document.getElementById("root"))}},[[376,1,2]]]);
//# sourceMappingURL=main.302f8103.chunk.js.map